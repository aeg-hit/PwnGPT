先看看开了什么保护机制

打开32位ida看看

一个大大的格式化字符漏洞糊脸上，然后看看后面的，就是判断x是不是4，是的话给shell，也就是说我们要格式化字符任意地址写，把x修改成4，因为32位格式化字符泄露偏移有点不一样，是从esp+4开始的，所以算一算偏移，或者去gdb里面一个一个数也是可以的

稍微解释一下payload，首先传入x参数的地址，这个地址存放在栈上偏移为11的位置，利用%11$n，定位到了偏移为11的位置,往这个位置写入数据，写入的数据由%11$n前面的参数的长度决定，而我们的x参数的地址，正好是4位，不需要添a来补齐位数就可以直接利用，将x参数的地址的值改成了4，获取了shell